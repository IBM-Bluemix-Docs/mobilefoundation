---

copyright:
  years: 2018, 2019
lastupdated: "2018-11-22"

---

{:shortdesc: .shortdesc}
{:new_window: target="_blank"}
{:tip: .tip}
{:pre: .pre}
{:codeblock: .codeblock}
{:screen: .screen}
{:note: .note}
{:important: .important}
{:deprecated: .deprecated}

# カスタム・グラフの作成
{: #build_custom_charts}

Mobile Analytics コンソールの「カスタム・グラフ (Custom Charts)」ビューは、キャプチャーされ、保存された分析データに関するユーザー独自の視覚化を作成する柔軟性を提供します。これは、すぐに使用可能な洞察をさらに深めたり、カスタム・データをまとめた Business Analytics にシームレスに拡張したりするのに役立ちます。

このビューではサポートされている分析データ・セットの中から任意のものを選択し、サポートされているグラフ・タイプから任意のものを選択して、そのデータ・セットをプロットできます。さらに、プロットされたデータに対して適用するフィルターを定義して余分なものを除去し、視覚化をすっきりさせることもできます。  

サポートされているデータ・セット:
 * アプリケーション・ログ
 * アプリケーション・セッション
 * カスタム・データ
 * ネットワーク・トランザクション
 
サポートされているグラフのタイプ:
 * 棒グラフ
 * フローチャート
 * 折れ線グラフ
 * メトリック・グループ 
 * 円グラフ
 * 表
 
データ・セットのセレクション、プロットするグラフのタイプ、グラフ特性の定義、および適用するデータ・フィルターをまとめて「カスタム・グラフ定義 (Custom Chart Definition)」に移動させ、保存できます。必要な数だけカスタム・グラフ定義を作成し、保存できます。保存されたカスタム・グラフは、関連する分析データがプロットされて「カスタム・グラフ (Custom Charts)」ビューに表示されます。 

## カスタム・グラフの作成
{: #creating_custom_chart}

以下のステップに従って、カスタム・グラフを作成します。

1.  Mobile Analytics ダッシュボードの**「カスタム・グラフ (Custom Charts)」**タブにある**「グラフの作成 (Create Chart)」**ボタンをクリックします。
2.  **「一般設定」**タブで、**「グラフ・タイトル」**、**「イベント・タイプ**」、および**「グラフ・タイプ」**を選択します。
3.  *イベント・タイプ*と*グラフ・タイプ*を選択すると、**「グラフの定義」**タブが表示されます。*「グラフの定義」*タブを使用して、以前に選択したグラフ・タイプのグラフを定義します。 グラフを定義したら、グラフのフィルターとグラフのプロパティーを設定できます。
4.  **「グラフのフィルター」**は、カスタム・グラフを細かく調整するために使用します。 グラフには複数のフィルターを定義できます。
例えば、アプリケーションの平均セッション期間を視覚化するグラフを定義した後に、特定のアプリケーションだけについてこのグラフを視覚化したい場合は、次のようにフィルターを作成します。
    * **「プロパティー」**に**「アプリケーション名」**を選択します。
    * **「演算子」**には**「等しい」**を選択します。
    * **「値」**にアプリケーションの名前を選択します。
    * **「フィルターの追加」**をクリックします。
    グラフのフィルターの表にアプリケーション名のフィルターが追加されます。
5.  **「表」**、**「棒グラフ」**、および**「折れ線グラフ」**のグラフ・タイプについて、グラフのプロパティーがあります。 グラフのプロパティーは、データの表示方法を向上させて効果的に視覚化することが目的です。
    **「表」**グラフを作成した場合は、グラフのプロパティーを設定して、表ページ・サイズ、ソート基準フィールド、フィールドのソート順序を定義します。
**「棒グラフ」**または**「折れ線グラフ」**のグラフを作成した場合は、グラフのプロパティーを設定して、しきい値の線にラベル付けし、グラフをモニターする際の参照フレームを追加します。

## カスタム・データ・ログからのカスタム・インサイトの取得
{: #creating_custom_chart_for_client_logs}    

アプリケーション全般にわたるユーザーの証跡など、より深いカスタム・インサイトを入手したい場合は、まず選択されたページや選択されたオプション、クリックされたボタンなどの証跡情報をカスタム・データとしてキャプチャーし、それらを記録する必要があります。カスタム・データを記録する方法については、[アプリのインスツルメント](/docs/services/mobilefoundation?topic=mobilefoundation-instrument_your_app#instrument_your_app)のトピックを参照してください。

次に、「カスタム・データ (Custom Data)」を EventType として指定し、カスタム・グラフの定義を作成して、「グラフのタイプ (Chart Type)」を選択します。作業を進めて  **「グラフのプロパティー (Chart Properties)」**または**「グラフのフィルター (Chart Filters)」**を定義するときになると、カスタム・データのタイプと値がドロップダウン・ボックスで表示されます。希望する洞察の種類に応じて、該当するものを選択してください。  

カスタム・インサイトの深さと有用性は、アプリケーション内でカスタム・データをいかに効果的に、または高い関連性をもって定義するかにかかっています。
{: note}

## グラフのタイプ
{: #types_of_charts}

### 棒グラフ
{:  #bar_graph}

棒グラフは、X 軸上で数値データを視覚化できます。 棒グラフを定義する場合、まず、「X 軸」の値を選択してください。 次の可能な値から選択できます。

* **タイムライン (Timeline)** - データをトレンドで表示する場合 (例えば、経時的な平均アプリケーション・セッション所要時間など)、X 軸に*「タイムライン (Timeline)」*を選択します。
* **プロパティー** - 特定プロパティーのカウント明細を表示したい場合は、「プロパティー」を選択します。 「X 軸」に「プロパティー」を選択すると、「Y 軸」に「合計」が暗黙的に選択されます。 例えば、「*X 軸*」に「*プロパティー*」を選択し、「プロパティー」に「*アプリケーション名*」を選択すると、指定したイベント・タイプのカウントが、アプリケーション名ごとの内訳で示されます。

「X 軸」の値を定義したら、「Y 軸」の値を定義できます。 「X 軸」に「*タイムライン (Timeline)*」を選択した場合、「Y 軸」に以下の可能な値を選択できます。

* **平均** - 指定されたイベント・タイプでの数値プロパティーの平均。
* **合計** - 指定されたイベント・タイプでのプロパティーの合計カウント。
* **固有** - 指定されたイベント・タイプでのプロパティーの固有カウント。
グラフの軸を定義したら、「プロパティー」の値を選択してください。

### 折れ線グラフ
{:  #line_graph}

折れ線グラフにより、経時的に特定のメトリックを視覚化できます。 このグラフ・タイプは、経時的なトレンドに関してデータを視覚化する場合に役立ちます。折れ線グラフの作成時にまず定義する値は**「測定 (Measure)」**で、これには以下の値が可能です。

* **平均** - 指定されたイベント・タイプでの数値プロパティーの平均。
* **合計** - 指定されたイベント・タイプでのプロパティーの合計カウント。
* **固有** - 指定されたイベント・タイプでのプロパティーの固有カウント。
測定を定義したら、「**プロパティー**」の値を選択してください。

### フローチャート
{:  #flow_chart}

フローチャートにより、プロパティー間のフローの明細を視覚化できます。 フローチャートには、以下のプロパティーを設定する必要があります。

* **ソース** - ダイアグラム内のソース・ノードの値。
* **宛先** - ダイアグラム内の宛先ノードの値。
* **プロパティー** - ソース・ノードまたは宛先ノードのプロパティー値。
フローチャートでは、さまざまなソースから宛先へのフロー (逆方向も同様) の密度明細を表示できます。
例えば、あるアプリケーションに関するログ重大度の明細を表示する場合は、以下の値を定義できます。

* 「*ソース*」に**「アプリケーション名」**を選択します。
* 「*宛先*」に**「ログ・レベル」**を選択します。
* **「プロパティー」**にアプリケーションの名前を選択します。

### メトリック・グループ
{:  #metric_group}

メトリック・グループでは、平均値、合計カウント、または固有カウントとして測定された 1 つのメトリックを視覚化できます。 メトリック・グループを定義するには、**「測定 (Measure)」**に可能な値の 1 つを定義する必要があります。

* **平均** - 指定されたイベント・タイプでの数値プロパティーの平均。
* **合計** - 指定されたイベント・タイプでのプロパティーの合計カウント。
* **固有** - 指定されたイベント・タイプでのプロパティーの固有カウント。
測定を定義したら、「*プロパティー*」の値を選択してください。 このメトリックが、メトリック・グループに表示されます。

### 円グラフ
{:  #pie_chart}

円グラフでは、特定プロパティーの値のカウント明細を視覚化できます。 例えば、異常終了の明細を表示するには、以下の値を定義します。

* *「イベント・タイプ」*に**「アプリケーション・セッション (App Session)」**を選択します。
* 「*グラフ・タイプ*」に**「円グラフ」**を選択します。
* 「*プロパティー*」に**「終了者 (Closed By)」**を選択します。
生成される円グラフには、異常終了したアプリケーションではなく、ユーザーが終了したアプリケーション・セッションの明細が表示されます。

### 表
{:  #table}

生データを表示する場合には、表が便利です。 表を構築するには、表示する生データの列を追加するだけです。
特定のイベント・タイプにすべてのプロパティーが必要とは限らないため、表には NULL 値が出現する可能性があります。 これらの行が表に出現しないようにするには、**「グラフのフィルター」**タブで特定プロパティーに「*存在する*」のフィルターを追加します。

