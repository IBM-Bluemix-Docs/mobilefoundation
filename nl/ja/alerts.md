---

copyright:
  years: 2018, 2019
lastupdated: "2018-11-23"

---

{:shortdesc: .shortdesc}
{:new_window: target="_blank"}
{:tip: .tip}
{:note: .note}
{:pre: .pre}
{:codeblock: .codeblock}
{:screen: .screen}

# アラートのセットアップ
{: #set_up_alerts}

Mobile Analytics はアプリケーションを監視するためのアラートをユーザーが定義できるアラート機能を提供します。しきい値を構成して、そのしきい値を超過した場合にアラートをトリガーして Mobile Analytics コンソール・モニターに通知するようにすることができます。 トリガーされたアラートをコンソールに視覚化したり、カスタム Webhook にリレーするように構成して適切に処理できるようにしたりできます。

この機能はアプリケーション・エラー・ログ、アプリケーションのクラッシュ、およびネットワーク・トランザクションで観察されるしきい値違反を検出し、アラートを発する手段を提供します。応答のしきい値とアラートにより、対応するビューやチャートを継続的に監視する必要なく、アプリケーションのパフォーマンス条件に迅速に対応することが可能です。

この機能は BETA 版として提供されています。
{: note}

以下の各セクションではアラートの作成と管理、そして Mobile Analytics コンソールでの表示について、詳細を説明します。

## アプリケーション・ログ (App Log) のアラート定義の作成
{: #creating_alert_def}

アプリ・ログに基づくアラート定義を作成できます。  例えば、アプリケーション・ログを 5 分ごとに監視して、特定バージョンのアプリケーションに 3 回以上、エラーが記録されているかどうかを確認する場合は、このセクションでそのセットアップ方法を説明しています。

1.  Mobile Analytics コンソールで **「定義」**をクリックしてアラート定義ページに移動します。
2.  **「アラートの作成 (Create Alert)」**をクリックします。
3.  以下の値を入力します。
    * **アラート名**: *アプリ・ログのアラート*
    * **メッセージ**: *エラー・メッセージのアラート*
    * **照会の頻度**: *5 分*
    * **イベント・タイプ**: *アプリ・ログ*
        * **プロパティー**: *ログ・レベル*
            * **値**: *エラー*
            * **しきい値**: *アプリケーション・インスタンスの合計*<br/>
              「*アプリケーションの平均*」オプションを選択すると、アプリ・ログ数が、デバイス数で平均化された数になります。 例えば、デバイスが 2 つあり、一方のデバイスがアプリ・ログを 6 つ送信し、もう一方のデバイスがアプリ・ログを 3 つ送信した場合、アプリ・ログの平均は 4.5 になります。
              {: note}
            * **演算子**: *以上* 
            * しきい値の値: *3*
4.  **「次へ」**をクリックして、次の値を入力します。
    * **方法**: *分析コンソールのみ*<br/>
      カスタマイズした URL に JSON ペイロードとともに POST メッセージを追加で送信する場合は、「*分析コンソールとネットワーク・ポスト (Analytics Console and Network Post)*」オプションを選択します。 このオプションを選択すると、以下のフィールドが使用可能になります。
      * **ネットワーク・ポスト URL (Network Post URL)**
      * **ヘッダー (Headers)**
      * **認証タイプ (Authentication Type)**
      * **「POST 要求本体 (POST Request Body)」**
5. **「保存 (Save)」**をクリックします。  

これで、5 分間隔の最後にしきい値 (エラー・ログが 3 個以上) にアプリ・ログ数が達していればアラートをトリガーする、というアラート定義が作成されました。

このアラートは、アラート定義が無効にされるか削除されるまで有効なまま存続し、設定された頻度で監視を行います。
{: note}

## アプリケーション異常終了のアラート定義の作成
{: #creating_alert_crashes}

ここではアプリケーションのクラッシュに関するアラートの設定例を紹介します。このアラートは 2 分ごとにすべてのアプリケーション・クラッシュを監視し、クラッシュの回数が 5 回に達するとアラートをトリガーします。

1.  Mobile Analytics コンソールで **「定義」**をクリックしてアラート定義ページに移動します。
2.  **「アラートの作成 (Create Alert)」**をクリックします。
3.  以下の値を入力します。
    * **アラート名**: *アプリケーション異常終了のアラート*
    * **メッセージ**: *アプリ異常終了のアラート*
    * **照会の頻度**: *2 分*
    * **イベント・タイプ**: *アプリケーションの異常終了*
        * **アプリケーション名**: *任意のアプリケーション*
        * **任意のアプリケーション**: *任意のバージョン*
    * **しきい値**: *異常終了回数*
    * **演算子**: *以上* 
    * しきい値の値: *5*
4.  **「配布方法 (Distribution Method)」**または**「次へ」**をクリックして次の値を指定します。
    * **方法**: *分析コンソールのみ*<br/>
      カスタマイズした URL に JSON ペイロードとともに POST メッセージを追加で送信する場合は、「*分析コンソールとネットワーク・ポスト (Analytics Console and Network Post)*」オプションを選択します。 このオプションを選択すると、以下のフィールドが使用可能になります。
      * **ネットワーク・ポスト URL (Network Post URL)**
      * **ヘッダー (Headers)**
      * **認証タイプ (Authentication Type)**
      * **「POST 要求本体 (POST Request Body)」**
5. **「保存 (Save)」**をクリックします。  

このアラートは、アラート定義が無効にされるか削除されるまで有効なまま存続し、設定された頻度で監視を行います。
{: note}

## アラート定義の管理
{: #managing_alert_def}

アラート定義はアラートの**「定義」**ページから管理します。

それぞれのアラート定義について、次の操作を実行できます。
* **「有効」**列の下のチェック・ボックスを切り替えて、特定のアラート定義を有効または無効にします。
* アラート定義のコピーを作成していくつかの値を変更する場合は、複写アイコンをクリックします。
* アラート定義を編集する場合は、鉛筆アイコンをクリックします。
* アラート定義を削除する場合は、ごみ箱アイコンをクリックします。

## アラートの表示
{: #viewing_alerts}

アラートの**「ログ」**ページからトリガーされたアラートを表示できます。

1.  Mobile Analytics コンソールで、**「ログ」**をクリックします。
2.  任意のアラートの**「+」**アイコンをクリックします。 このアクションにより、アラート定義と、**「アラート・インスタンス (Alert Instances)」**セクションが表示されます。
対応するアラート定義が削除も変更もされていない場合、**「アラートの編集 (Edit Alert)」**をクリックしてアラート定義を編集できます。 そうでない場合は**「アラートの編集 (Edit Alert)」**ボタンを使用できず、以下のメッセージが表示されます。
    `このアラート定義はすでに変更されたか削除されています。(This alert definition has since been modified or deleted.)`
3.  その場合は、任意でアラートを選択し、ごみ箱アイコンをクリックしてそのアラートを削除できます。

